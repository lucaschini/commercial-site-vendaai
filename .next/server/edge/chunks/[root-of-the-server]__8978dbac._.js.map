{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["// middleware.ts (na raiz do projeto)\nimport { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\nexport function middleware(request: NextRequest) {\n  // Tentar obter token do cookie ou header\n  const tokenFromCookie = request.cookies.get(\"token\")?.value;\n  const tokenFromHeader = request.headers\n    .get(\"Authorization\")\n    ?.replace(\"Bearer \", \"\");\n\n  const token = tokenFromCookie || tokenFromHeader;\n\n  const isAuthPage =\n    request.nextUrl.pathname === \"/login\" ||\n    request.nextUrl.pathname === \"/register\";\n  const isDashboard = request.nextUrl.pathname.startsWith(\"/dashboard\");\n\n  // Redirecionar para login se tentar acessar dashboard sem token\n  if (isDashboard && !token) {\n    const loginUrl = new URL(\"/login\", request.url);\n    return NextResponse.redirect(loginUrl);\n  }\n\n  // Redirecionar para dashboard se j√° estiver autenticado e tentar acessar login/register\n  if (isAuthPage && token) {\n    const dashboardUrl = new URL(\"/dashboard\", request.url);\n    return NextResponse.redirect(dashboardUrl);\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\"/dashboard/:path*\", \"/login\", \"/register\"],\n};\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;;AACrC;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,yCAAyC;IACzC,MAAM,kBAAkB,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU;IACtD,MAAM,kBAAkB,QAAQ,OAAO,CACpC,GAAG,CAAC,kBACH,QAAQ,WAAW;IAEvB,MAAM,QAAQ,mBAAmB;IAEjC,MAAM,aACJ,QAAQ,OAAO,CAAC,QAAQ,KAAK,YAC7B,QAAQ,OAAO,CAAC,QAAQ,KAAK;IAC/B,MAAM,cAAc,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAExD,gEAAgE;IAChE,IAAI,eAAe,CAAC,OAAO;QACzB,MAAM,WAAW,IAAI,IAAI,UAAU,QAAQ,GAAG;QAC9C,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,wFAAwF;IACxF,IAAI,cAAc,OAAO;QACvB,MAAM,eAAe,IAAI,IAAI,cAAc,QAAQ,GAAG;QACtD,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAqB;QAAU;KAAY;AACvD"}}]
}